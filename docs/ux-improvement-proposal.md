# UX 改善提案書

> 作成日: 2026-02-18
> 最終更新: 2026-02-19
> 対象: ポケモンリボン制覇支援ツール（Phase 10 完了時点）
> ステータス: A・B・C・D・E・F・H 実装完了 / G 未実装

---

## 1. 現状分析

### 1.1 現在のページ構成

```
┌─────────────────────────────────────────┐
│  h1: ポケモンリボン制覇支援ツール          │
├─────────────────────────────────────────┤
│  PokemonSearch（検索ボックス + 結果）      │
├─────────────────────────────────────────┤
│  PokemonDetails（選択中のポケモン情報）     │
├─────────────────────────────────────────┤
│  MyPokemonPanel（マイポケモン一覧）         │
├─────────────────────────────────────────┤
│  [リボン管理] [進捗ダッシュボード] [転送ガイド] │
│  ┌───────────────────────────────────┐  │
│  │ タブコンテンツ                      │  │
│  │ （リボン管理 / チャート / ガイド）    │  │
│  └───────────────────────────────────┘  │
├─────────────────────────────────────────┤
│  HelpfulResources（外部リンク）            │
└─────────────────────────────────────────┘
```

### 1.2 ユーザーフロー上の問題点

| # | 問題 | 影響度 | 説明 |
|---|------|--------|------|
| P1 | **初見で何をすべきか分からない** | 高 | 検索ボックスだけが表示され、アプリの目的・使い方の説明がない |
| P2 | **セクション間の縦スクロールが長い** | 高 | 検索→詳細→マイポケモン→タブ→コンテンツと、目的のUIまで何度もスクロール |
| P3 | **リボン管理と進捗チャートが分離** | 中 | 同じリボンのチェックが2箇所にあり、「どちらで管理すればいいのか」混乱する |
| P4 | **マイポケモン登録の動線が遠い** | 中 | ポケモン検索→選択後、下にスクロールしないと登録ボタンが見えない |
| P5 | **フィルターが常に表示され画面を圧迫** | 中 | モバイルではフィルターだけで1画面分を占有する |
| P6 | **検索結果にポケモンのタイプが表示されない** | 低 | 同名ポケモン（リージョンフォーム等）の区別ができない |
| P7 | **「特殊」カテゴリがフィルターにない** | 低 | ナショナルリボンのカテゴリ「特殊」がフィルターの選択肢にない |
| P8 | **alert() でのインポート通知** | 低 | ブラウザ標準のalertは体験が悪い |

### 1.3 良い点（維持すべき）

- アコーディオン展開でリボンガイドが見られる（リボン管理タブ）
- マイポケモンのカード型UI（モバイル横スクロール）
- 取得可能/不可のバッジが直感的
- 世代別の進捗サマリーグリッド
- ポケモンタイプの色分けバッジ

---

## 2. 改善提案

### ✅ 提案 A: ファーストビュー改善 — オンボーディング + ヒーロー（実装済み）

**問題**: P1（初見で何をすべきか分からない）

**現状**: いきなり検索ボックスが表示されるだけ

**改善案**:

```
┌─────────────────────────────────────────┐
│  🎀 ポケモンリボン制覇支援ツール           │
│                                          │
│  ポケモンのリボンコンプリートを             │
│  効率よく管理・計画しよう                   │
│                                          │
│  ┌─────────────────────────────────┐    │
│  │ 🔍 ポケモンを検索...              │    │
│  └─────────────────────────────────┘    │
│                                          │
│  使い方: ① ポケモンを検索                  │
│         ② マイポケモンに登録               │
│         ③ リボンをチェックして進捗管理      │
└─────────────────────────────────────────┘
```

- ポケモン未選択時にのみ表示するウェルカムセクション
- 3ステップの簡潔な使い方説明
- ポケモン選択後は自動的に非表示になる
- 既にマイポケモンが登録済みの場合はスキップ

---

### ✅ 提案 B: レイアウト再構成 — 2カラム化（デスクトップ）（実装済み）

**問題**: P2（縦スクロールが長い）

**現状**: すべて1カラムで縦に並ぶ

**改善案（デスクトップ）**:

```
┌──────────────────────┬─────────────────────────┐
│                      │                          │
│  検索 + ポケモン詳細   │  メインコンテンツ          │
│  + マイポケモン一覧    │  [リボン管理] [進捗] [転送] │
│                      │  ┌──────────────────┐    │
│  ← 左カラム固定 →     │  │                  │    │
│  (w-80 / w-96)       │  │  タブコンテンツ     │    │
│                      │  │                  │    │
│                      │  └──────────────────┘    │
└──────────────────────┴─────────────────────────┘
```

**モバイル**: 現状通り1カラム縦並び（変更なし）

具体的な変更:
- デスクトップ（`lg:` 以上）で `flex` の2カラムレイアウト
- 左カラム: 検索 + PokemonDetails + MyPokemonPanel を `sticky top-4` で固定
- 右カラム: タブコンテンツ（リボン管理 / 進捗 / 転送ガイド）
- モバイル: 現状のまま1カラム

メリット:
- ポケモン情報を常に参照しながらリボン管理ができる
- スクロール量が大幅に減る
- デスクトップの横幅を有効活用

---

### ✅ 提案 C: タブ統合 — リボン管理と進捗チャートの一体化（実装済み）

**問題**: P3（リボン管理と進捗チャートが分離）

**現状**:
- 「リボン管理」タブ: フィルター付きリボン一覧 + チェック + アコーディオンガイド
- 「進捗ダッシュボード」タブ: 世代別チェックリスト + 進捗サマリー + 認定証

**改善案**: 2タブに統合

```
[リボン管理] [転送ガイド]
```

「リボン管理」タブの中に以下を統合:
1. **進捗サマリー（上部に常時表示）** — 世代別%バー + 総合進捗
2. **フィルター** — 折りたたみ式（デフォルト閉じ）
3. **リボン一覧** — 現状のアコーディオンカード（チェック + ガイド）
4. **エクスポート/インポート** — ページ下部に移動
5. **認定証** — 100%達成時のみ表示（現状と同じ）

これにより:
- チェックする場所が1箇所に統一
- 進捗を見ながらチェックできる
- 「進捗ダッシュボード」タブの存在理由がなくなる

---

### ✅ 提案 D: フィルター改善 — 折りたたみ + アクティブ表示（実装済み）

**問題**: P5（フィルターが画面を圧迫）

**現状**: フィルターが常時展開で3行+検索+リセットで約150px占有

**改善案**:

```
┌──────────────────────────────────────────┐
│ 🔍 リボンを検索...       [フィルター ▼] (2) │
└──────────────────────────────────────────┘
```

- **検索バーを最上部に常時表示**（最も使う操作）
- **フィルターは折りたたみ式**（ボタンクリックで展開）
- フィルター適用中はバッジで件数表示「(2)」
- 適用中フィルターをチップとして検索バー下に表示:

```
┌──────────────────────────────────────────┐
│ 🔍 リボンを検索...       [フィルター ▼] (2) │
│ [第3世代 ×] [コンテスト ×]                  │
└──────────────────────────────────────────┘
```

---

### ✅ 提案 E: マイポケモン登録の動線改善（実装済み）

**問題**: P4（登録の動線が遠い）

**改善案**:

1. **PokemonDetails 内に登録ボタンを配置**
   - ポケモン選択直後の詳細表示内に「マイポケモンに登録」ボタンを追加
   - 現在の MyPokemonPanel 内の登録ボタンは残す（両方からアクセス可能）

2. **検索結果からの直接登録**（将来案）
   - 検索結果の各行に「+」ボタンで即登録
   - ポケモン選択 + 登録を1アクションに

```
検索結果:
┌──────────────────────────────────────┐
│ [img] ピカチュウ  #025  でんき  [+ 登録] │
│ [img] ピチュー    #172  でんき  [+ 登録] │
└──────────────────────────────────────┘
```

---

### ✅ 提案 F: インタラクション品質の改善（実装済み）

**問題**: P8（alert()）+ 全般的な操作感

**改善案**:

1. **トースト通知の導入**
   - alert() をすべてトースト通知に置き換え
   - 右上または下部に自動消滅する通知を表示
   - 種類: success（緑）/ error（赤）/ info（青）

2. **チェックボックスのアニメーション**
   - リボンチェック時にチェックマークがふわっと表示
   - 進捗バーがスムーズにアニメーション（`transition-all`）

3. **confirm() をモーダルに置き換え**
   - マイポケモン削除時の確認をカスタムモーダルに
   - 削除対象の情報を表示して誤操作を防止

4. **空状態の改善**
   - 各セクションの空状態にイラスト or アイコン + 行動を促すCTA

---

### 提案 G: 検索体験の改善（未実装）

**問題**: P6（タイプ表示がない）

**改善案**:

```
検索結果:
┌──────────────────────────────────────────┐
│ [img] フシギダネ  #001                     │
│       くさ どく  第1世代                    │
├──────────────────────────────────────────┤
│ [img] フシギソウ  #002                     │
│       くさ どく  第1世代                    │
└──────────────────────────────────────────┘
```

- タイプバッジを検索結果にも表示
- 世代番号を表示（どのゲームから登場か一目で分かる）
- 図鑑番号でも検索可能にする（現状は名前のみ）

---

### ✅ 提案 H: RibbonFilter に「特殊」カテゴリ追加（実装済み）

**問題**: P7（「特殊」カテゴリがフィルターにない）

**改善案**:

`ribbonTypes` に追加:
```typescript
{ id: 'special', name: '特殊' }
```

`CATEGORY_MAP` に追加:
```typescript
special: '特殊'
```

ナショナルリボン（category: '特殊'）がフィルターで絞り込めるようになる。

---

## 3. 優先順位と実装計画

| 優先度 | 提案 | 工数目安 | 状態 | 理由 |
|--------|------|----------|------|------|
| ~~**高**~~ | ~~A: ファーストビュー改善~~ | 小 | ✅ 完了 | 初見UXの根本改善 |
| ~~**高**~~ | ~~C: タブ統合~~ | 中 | ✅ 完了 | 機能の重複解消 |
| ~~**高**~~ | ~~D: フィルター改善~~ | 中 | ✅ 完了 | モバイルの画面圧迫を解決 |
| ~~**中**~~ | ~~B: 2カラムレイアウト~~ | 大 | ✅ 完了 | デスクトップ体験の大幅改善 |
| ~~**中**~~ | ~~E: 登録動線改善~~ | 小 | ✅ 完了 | PokemonDetails にボタン追加のみで効果あり |
| ~~**中**~~ | ~~F: インタラクション品質~~ | 中 | ✅ 完了 | トースト通知の導入が主 |
| **低** | G: 検索体験改善 | 小 | 未実装 | 既存コンポーネントの修正のみ |
| ~~**低**~~ | ~~H: 特殊カテゴリ追加~~ | 極小 | ✅ 完了 | 2行の追加で完了 |

### 実施状況

```
✅ Phase A: 即効性のある改善（完了）
  ✅ 提案 A（オンボーディング）
  ✅ 提案 H（特殊カテゴリ）
  ✅ 提案 E（登録動線）

✅ Phase B: 情報設計の改善（完了）
  ✅ 提案 C（タブ統合）
  ✅ 提案 D（フィルター改善）

✅ Phase C: レイアウト刷新（完了）
  ✅ 提案 B（2カラム化）
  ✅ 提案 F（インタラクション品質）
  ☐ 提案 G（検索改善）← 未実装
```

---

## 4. デスクトップ / モバイル 画面イメージ

### デスクトップ（提案B適用後）

```
┌─────────────────────────────────────────────────────────────┐
│  🎀 ポケモンリボン制覇支援ツール                                │
├───────────────────┬─────────────────────────────────────────┤
│                   │                                          │
│  🔍 ポケモンを検索 │  ■ 進捗サマリー                            │
│  ┌─────────────┐ │  [Gen3: ████░░ 60%] [Gen4: ░░░░░░ 0%]   │
│  │ [img] ピカチュウ│  [Total: ██░░░░ 30%]                     │
│  │ #025 でんき   │ │                                          │
│  │              │ │  🔍 リボンを検索...    [フィルター ▼] (0)   │
│  │ NN: ぴかお    │ │  [第3世代 ×]                              │
│  │ 出身: エメラルド│ │                                          │
│  │              │ │  ┌────────────────────────────────────┐  │
│  │ リボン: 8/27  │ │  │ ☑ チャンピオンリボン     第3世代 取得可能│  │
│  │ ████████░░░  │ │  │   ホウエン/カントーリーグ制覇の証    ▼  │  │
│  │              │ │  ├────────────────────────────────────┤  │
│  │ [マイポケモンに│ │  │ ☐ クールリボン           第3世代 取得可能│  │
│  │  登録]        │ │  │   コンテスト・クール部門優勝       ▼  │  │
│  └─────────────┘ │  ├────────────────────────────────────┤  │
│                   │  │ ...                                │  │
│  ── マイポケモン ─│  └────────────────────────────────────┘  │
│  [ぴかお 60%]     │                                          │
│  [イーブイ 20%]   │  [エクスポート] [インポート]                 │
│                   │                                          │
├───────────────────┴─────────────────────────────────────────┤
│  お役立ち情報: [Reddit] [Discord]                              │
└─────────────────────────────────────────────────────────────┘
```

### モバイル（現状ベース + 提案A/C/D適用）

```
┌─────────────────────────┐
│ 🎀 リボン制覇支援ツール    │
├─────────────────────────┤
│ 🔍 ポケモンを検索...      │
│                          │
│ 使い方:                   │
│ ① 検索 ② 登録 ③ チェック  │
├─────────────────────────┤
│  ── マイポケモン (2) ▼ ── │
│ [ぴかお 60%] [イーブイ 20%]│
│  →→ 横スクロール →→       │
├─────────────────────────┤
│ [img] ピカチュウ #025     │
│ でんき                    │
│ リボン: 8/27 (30%)        │
│ ████████░░░░░░░          │
│ [マイポケモンに登録]       │
├─────────────────────────┤
│ [リボン管理] [転送ガイド]   │
├─────────────────────────┤
│ Total: 30%  Gen3: 60%    │
├─────────────────────────┤
│ 🔍 リボンを検索  [▼](0)  │
├─────────────────────────┤
│ ☑ チャンピオンリボン   ▼  │
│ ☐ クールリボン         ▼  │
│ ☐ ビューティリボン     ▼  │
│ ...                      │
└─────────────────────────┘
```

---

## 5. 技術的な考慮事項

### タブ統合（提案C）
- `RibbonMasterChart.vue` の世代別チェックリスト機能は `RibbonManager.vue` に吸収
- 進捗サマリーグリッドは独立コンポーネントとして抽出（`ProgressSummary.vue`）
- エクスポート/インポート/認定証の機能は `RibbonManager.vue` 下部に移動
- `RibbonMasterChart.vue` は削除可能

### 2カラムレイアウト（提案B）
- `pages/index.vue` のテンプレートを `lg:flex` で2カラム化
- 左カラムに `lg:sticky lg:top-4 lg:self-start` を適用
- 左カラム幅: `lg:w-80 xl:w-96`
- 右カラム: `lg:flex-1`
- モバイルは変更なし（`flex-col` がデフォルト）

### トースト通知（提案F）
- 軽量な自作コンポーネントで十分（外部ライブラリ不要）
- Pinia store or composable で状態管理
- `Teleport` で `<body>` 直下にレンダリング
- 自動消滅タイマー（3秒）+ 手動閉じボタン

### フィルター折りたたみ（提案D）
- `RibbonFilter.vue` 内に `isExpanded` state を追加
- 検索バーは常時表示、フィルターボタンは展開トグル
- `transition` + `max-height` でアニメーション

---

## 6. 対象外（今回のスコープ外）

- ダークモード — 別フェーズ（Phase 12）で対応
- アクセシビリティ（ARIA属性等）— 別フェーズ（Phase 12）で対応
- Gen 4-9 のリボンデータ追加 — データ拡充は別タスク
- PWA化 / オフライン対応 — デプロイ後に検討
- 多言語対応 — 現時点では不要
